{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Categorias</h2>
  <a class="btn btn-success" href="{{ url_for('criar_categoria') }}">Criar Categoria</a>
</div>
<div class="card shadow-sm">
  <div class="card-body p-0">
    <table class="table mb-0 table-hover">
      <thead class="table-light">
        <tr>
          <th>Nome</th>
          <th>Descrição</th>
          <th class="text-end">Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for c in categorias %}
        <tr>
          <td>{{ c.nome }}</td>
          <td>{{ c.descricao }}</td>
          <td class="text-end">
            <a class="btn btn-sm btn-primary" href="{{ url_for('editar_categoria', id=c.id) }}">Editar</a>
            <form method="post" action="{{ url_for('deletar_categoria', id=c.id) }}" style="display:inline-block">
              <button class="btn btn-sm btn-danger" onclick="return confirm('Deseja deletar esta categoria?')">Deletar</button>
            </form>
          </td>
        </tr>
        {% else %}
        <tr><td colspan="3" class="text-center py-4">Nenhuma categoria cadastrada</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
